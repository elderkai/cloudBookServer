webpackJsonp([12],{"6rlF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{formData:[],pn:1,size:5,count:50}},methods:{getData:function(){var t=this;this.$axios.get("/swiper",{pn:this.pn,size:this.size}).then(function(e){t.formData=e.data,t.count=e.count,console.log(e)}).catch()},pageChange:function(t){this.pn=t,this.getData()},handleClick:function(t){this.$router.push({name:"editSwiper",query:{id:t}})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("swiper/delete",{ids:[t]}).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.getData()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},created:function(){this.getData()}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-all"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formData}},[n("el-table-column",{attrs:{fixed:"",prop:"img",label:"轮播图图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{attrs:{src:t.row.img,width:"80",height:"100"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"轮播图标题",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"img",label:"书籍封面",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{attrs:{src:t.row.book.img,width:"80",height:"100"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"book.title",label:"书名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return t.handleClick(e.row._id)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return t.handleDelete(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{"page-size":5,background:"",layout:"prev, pager, next",total:t.count},on:{"current-change":t.pageChange}})],1)},staticRenderFns:[]},l=n("C7Lr")(a,i,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=12.1d3121ee725be2abc0da.js.map