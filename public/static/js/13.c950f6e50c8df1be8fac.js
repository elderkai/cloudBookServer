webpackJsonp([13],{"GFU+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{tableData:[],count:0,page:1}},methods:{getData:function(){var t=this;this.$axios.get("/category",{pn:this.page,size:9}).then(function(e){200==e.code&&(t.count=e.count,t.tableData=e.data)})},handleEdit:function(t){this.$router.push({name:"classifyEdit",query:{id:t}})},handleDelete:function(t){var e=this;this.$confirm("此操作将删除该分类，请确认该分类下没有图书。","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){console.log("sdaag"),e.$axios.delete("/category/${id}").then(function(t){console.log("sdg"),200==t.code?(e.$message({type:"info",message:"已成功删除"}),e.getData()):e.$message({type:"info",message:"删除失败"})})}).catch(function(t){console.log(t),e.$message({type:"info",message:"已取消删除"})})},pageChange:function(t){this.page=t,this.getData()}},created:function(){this.getData()}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("分类图书列表")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"title",label:"分类名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"封面",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{attrs:{src:t.row.icon,width:"50",height:"50"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"index",label:"排序",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"index",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return t.handleEdit(e.row._id)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return t.handleDelete(e.row._id)}}},[t._v("删除分类")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{background:"","page-size":9,layout:"prev,pager,next",total:t.count},on:{"current-change":t.pageChange}})],1)},staticRenderFns:[]},l=n("C7Lr")(a,o,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=13.c950f6e50c8df1be8fac.js.map